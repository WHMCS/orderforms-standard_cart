function scrollToGatewayInputError(){var e=jQuery(".gateway-errors,.assisted-cc-input-feedback").first();(e.closest("form")||jQuery("form").first()).find('button[type="submit"],input[type="submit"]').prop("disabled",!1).removeClass("disabled").find("i.fas,i.far,i.fal,i.fab").removeAttr("class").addClass("fas fa-arrow-circle-right").find("span").toggle(),e.length&&elementOutOfViewPort(e[0])&&jQuery("html, body").animate({scrollTop:e.offset().top-50},500)}function elementOutOfViewPort(e){var e=e.getBoundingClientRect(),t={};return t.top=e.top<0,t.left=e.left<0,t.bottom=e.bottom>(window.innerHeight||document.documentElement.clientHeight),t.right=e.right>(window.innerWidth||document.documentElement.clientWidth),t.any=t.top||t.left||t.bottom||t.right,t.any}function showCheckoutError(e,t=null){jQuery(".alert-danger").hide();(t=t||jQuery([".checkout-error-feedback","#existingLoginMessage",".gateway-errors",".assisted-cc-input-feedback"].join(", ")).first()).length&&t.html(e).slideDown("fast")}!function(g){var v="iCheck",j=v+"-helper",b="checkbox",C="radio",w="checked",p="un"+w,Q="disabled",f="determinate",k="in"+f,S="update",M="type",x="click",T="touchbegin.i touchend.i",D="addClass",R="removeClass",U="trigger",H="label",m="cursor",P=/ip(hone|od|ad)|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;function W(e,t,n){var i=e[0],a=/er/.test(n)?k:/bl/.test(n)?Q:w,r=n==S?{checked:i[w],disabled:i[Q],indeterminate:"true"==e.attr(k)||"false"==e.attr(f)}:i[a];if(/^(ch|di|in)/.test(n)&&!r)A(e,a);else if(/^(un|en|de)/.test(n)&&r)I(e,a);else if(n==S)for(var o in r)(r[o]?A:I)(e,o,!0);else t&&"toggle"!=n||(t||e[U]("ifClicked"),r?i[M]!==C&&I(e,a):A(e,a))}function A(e,t,n){var i,a,r=e[0],o=e.parent(),s=t==w,d=t==k,l=t==Q,u=d?f:s?p:"enabled",c=y(e,u+O(r[M])),h=y(e,t+O(r[M]));!0!==r[t]&&(!n&&t==w&&r[M]==C&&r.name&&(i=e.closest("form"),a='input[name="'+r.name+'"]',(a=i.length?i.find(a):g(a)).each(function(){this!==r&&g(this).data(v)&&I(g(this),t)})),d?(r[t]=!0,r[w]&&I(e,w,"force")):(n||(r[t]=!0),s&&r[k]&&I(e,k,!1)),L(e,s,t,n)),r[Q]&&y(e,m,!0)&&o.find("."+j).css(m,"default"),o[D](h||y(e,t)||""),o.attr("role")&&!d&&o.attr("aria-"+(l?Q:w),"true"),o[R](c||y(e,u)||"")}function I(e,t,n){var i=e[0],a=e.parent(),r=t==w,o=t==k,s=t==Q,d=o?f:r?p:"enabled",l=y(e,d+O(i[M])),u=y(e,t+O(i[M]));!1!==i[t]&&(!o&&n&&"force"!=n||(i[t]=!1),L(e,r,d,n)),!i[Q]&&y(e,m,!0)&&a.find("."+j).css(m,"pointer"),a[R](u||y(e,t)||""),a.attr("role")&&!o&&a.attr("aria-"+(s?Q:w),"false"),a[D](l||y(e,d)||"")}function E(e,t){e.data(v)&&(e.parent().html(e.attr("style",e.data(v).s||"")),t&&e[U](t),e.off(".i").unwrap(),g(H+'[for="'+e[0].id+'"]').add(e.closest(H)).off(".i"))}function y(e,t,n){if(e.data(v))return e.data(v).o[t+(n?"":"Class")]}function O(e){return e.charAt(0).toUpperCase()+e.slice(1)}function L(e,t,n,i){i||(t&&e[U]("ifToggled"),e[U]("change")[U]("ifChanged")[U]("if"+O(n)))}g.fn[v]=function(t,n){function e(e){e.each(function(){var e=g(this);r=e.is(a)?r.add(e):r.add(e.find(a))})}var u,i,c,h,p,f,m,y,a='input[type="'+b+'"], input[type="'+C+'"]',r=g();return/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(t)?(t=t.toLowerCase(),e(this),r.each(function(){var e=g(this);"destroy"==t?E(e,"ifDestroyed"):W(e,!0,t),g.isFunction(n)&&n()})):"object"!=typeof t&&t?this:(i=(u=g.extend({checkedClass:w,disabledClass:Q,indeterminateClass:k,labelHover:!0},t)).handle,c=u.hoverClass||"hover",h=u.focusClass||"focus",p=u.activeClass||"active",f=!!u.labelHover,m=u.labelHoverClass||"hover",y=0|(""+u.increaseArea).replace("%",""),i!=b&&i!=C||(a='input[type="'+i+'"]'),y<-50&&(y=-50),e(this),r.each(function(){var i=g(this),a=(E(i),this),e=a.id,t=-y+"%",n=100+2*y+"%",t={position:"absolute",top:t,left:t,display:"block",width:n,height:n,margin:0,padding:0,background:"#fff",border:0,opacity:0},n=P?{position:"absolute",visibility:"hidden"}:y?t:{position:"absolute",opacity:0},r=a[M]==b?u.checkboxClass||"i"+b:u.radioClass||"i"+C,o=g(H+'[for="'+e+'"]').add(i.closest(H)),s=!!u.aria,d=v+"-"+Math.random().toString(36).substr(2,6),l='<div class="'+r+'" '+(s?'role="'+a[M]+'" ':"");s&&o.each(function(){l+='aria-labelledby="',this.id?l+=this.id:(this.id=d,l+=d),l+='"'}),l=i.wrap(l+"/>")[U]("ifCreated").parent().append(u.insert),r=g('<ins class="'+j+'"/>').css(t).appendTo(l),i.data(v,{o:u,s:i.attr("style")}).css(n),u.inheritClass&&l[D](a.className||""),u.inheritID&&e&&l.attr("id",v+"-"+e),"static"==l.css("position")&&l.css("position","relative"),W(i,!0,S),o.length&&o.on(x+".i mouseover.i mouseout.i "+T,function(e){var t=e[M],n=g(this);if(!a[Q]){if(t==x){if(g(e.target).is("a"))return;W(i,!1,!0)}else f&&(/ut|nd/.test(t)?(l[R](c),n[R](m)):(l[D](c),n[D](m)));if(!P)return!1;e.stopPropagation()}}),i.on(x+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[M],e=e.keyCode;return t!=x&&("keydown"==t&&32==e?(a[M]==C&&a[w]||(a[w]?I:A)(i,w),!1):void("keyup"==t&&a[M]==C?a[w]||A(i,w):/us|ur/.test(t)&&l["blur"==t?R:D](h)))}),r.on(x+" mousedown mouseup mouseover mouseout "+T,function(e){var t=e[M],n=/wn|up/.test(t)?p:c;if(!a[Q]){if(t==x?W(i,!1,!0):(/wn|er|in/.test(t)?l[D](n):l[R](n+" "+p),o.length&&f&&n==c&&o[/ut|nd/.test(t)?R:D](m)),!P)return!1;e.stopPropagation()}})}))}}(window.jQuery||window.Zepto),function(e){"object"!=typeof e.WHMCS&&(e.WHMCS={hasModule:function(e){return typeof WHMCS[e]!=="undefined"&&Object.getOwnPropertyNames(WHMCS[e]).length>0},loadModule:function(e,t){if(this.hasModule(e))return;WHMCS[e]={};if(typeof t==="function")t.apply(WHMCS[e]);else for(var n in t)if(t.hasOwnProperty(n)){WHMCS[e][n]={};t[n].apply(WHMCS[e][n])}}})}(window),jQuery(document).ready(function(){jQuery(document).on("click",".disable-on-click",function(){var e;jQuery(this).addClass("disabled"),jQuery(this).hasClass("spinner-on-click")&&(e=$(this).find("i.fas,i.far,i.fal,i.fab"),jQuery(e).removeAttr("class").addClass("fas fa-spinner fa-spin"))}).on("click","#openTicketSubmit.disabled",function(){return!1})}),WHMCS.hasModule("authn")||WHMCS.loadModule("authn",{provider:function(){var t=!1;return this.feedbackContainer=function(){return jQuery(".providerLinkingFeedback")},this.btnContainer=function(){return jQuery(".providerPreLinking")},this.feedbackMessage=function(e){void 0===e&&(e="complete_sign_in");e=jQuery("p.providerLinkingMsg-preLink-"+e);return e.length?e.first().html():""},this.showProgressMessage=function(e){this.feedbackContainer().fadeIn("fast",function(){"function"!=typeof e||t||(t=!0,e())})},this.preLinkInit=function(e){this.feedbackContainer().removeClass("alert-danger alert-success").addClass("alert alert-info").html('<i class="fas fa-fw fa-spinner fa-spin"></i> '+this.feedbackMessage()).hide();var t,n=this.btnContainer();n.length?n.data("hideOnPrelink")?(t=this,n.fadeOut("false",function(){t.showProgressMessage(e)})):(n.data("disableOnPrelink")&&n.find(".btn").addClass("disabled"),this.showProgressMessage(e)):this.showProgressMessage(e)},this.displayError=function(e,t,n){jQuery("#providerLinkingMessages .provider-name").html(e);e=this.feedbackMessage("connect_error");t&&(t=this.feedbackMessage(t))&&(e=t),n&&0<$(".btn-logged-in-admin").length&&(e+=" Error: "+n),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(e).slideDown()},this.displaySuccess=function(e,t,n){var i,a,r,o=n.icon,s=t.htmlTarget,d=t.targetLogin,l=t.targetRegister,u=n.name,c="";switch(e.result){case"logged_in":case"2fa_needed":c=this.feedbackMessage("2fa_needed"),this.feedbackContainer().removeClass("alert-danger alert-warning alert-success").addClass("alert alert-info").html(c),window.location=e.redirect_url?decodeURIComponent(e.redirect_url):decodeURIComponent(t.redirectUrl);break;case"linking_complete":var h="";h=(h=e.remote_account.email||e.remote_account.firstname+" "+e.remote_account.lastname).trim(),c=this.feedbackMessage("linking_complete").trim().replace(":displayName",u),h&&(c=c.replace(/\.$/," ("+h+").")),this.feedbackContainer().removeClass("alert-danger alert-warning alert-info").addClass("alert alert-success").html(o+c);break;case"login_to_link":s===d?(c=this.feedbackMessage("login_to_link-signin-required"),this.feedbackContainer().removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(o+c)):(h=jQuery("input[name=email]"),i=jQuery("input[name=firstname]"),a=jQuery("input[name=lastname]"),""===h.val()&&h.val(e.remote_account.email),""===i.val()&&i.val(e.remote_account.firstname),""===a.val()&&a.val(e.remote_account.lastname),s===l?("object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword(),c=this.feedbackMessage("login_to_link-registration-required"),this.feedbackContainer().fadeOut("slow",function(){$(this).removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(o+c).fadeIn("fast")})):("object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword(),(r=this).feedbackContainer().each(function(e,t){var n=$(t),i=n.siblings("div .providerPreLinking").data("linkContext");n.fadeOut("slow",function(){c="checkout-new"===i?r.feedbackMessage("checkout-new"):r.feedbackMessage("login_to_link-signin-required"),n.removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(o+c).fadeIn("fast")})})));break;case"other_user_exists":c=this.feedbackMessage("other_user_exists"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(o+c).slideDown();break;case"already_linked":c=this.feedbackMessage("already_linked"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(o+c).slideDown();break;default:c=this.feedbackMessage("default"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(o+c).slideDown()}},this.signIn=function(e,t,n,i,a){jQuery.ajax(e).done(function(e){i(),WHMCS.authn.provider.displaySuccess(e,t,n),jQuery("#tableLinkedAccounts").length&&WHMCS.ui.dataTable.getTableById("tableLinkedAccounts").ajax.reload()}).error(function(){a(),WHMCS.authn.provider.displayError()})},this}}),function(e){WHMCS.hasModule("client")||WHMCS.loadModule("client",e)}({registration:function(){return this.prefillPassword=function(i){function e(){for(var e=WHMCS.utils.simpleRNG(),t=0,n=i.form.password.length;t<n;t++)jQuery("#"+i.form.password[t].id).val(e).trigger("keyup")}var t;void 0===(i=i||{}).hideContainer?(t=jQuery("#inputSecurityQId").attr("id")?"#containerPassword":"#containerNewUserSecurity",i.hideContainer=jQuery(t),i.hideInputs=!0):"string"==typeof i.hideContainer&&i.hideContainer.length&&(i.hideContainer=jQuery(i.hideContainer)),void 0===i.form&&(i.form={password:[{id:"inputNewPassword1"},{id:"inputNewPassword2"}]});i.hideInputs?i.hideContainer.slideUp("fast",e):e()},this},tokenProcessor:function(){this.hostOrigin=window.location.origin,this.postForm=null,this.getAutoPostForm=function(){return this.postForm||(this.postForm=jQuery("<form>").attr("id","whmcsAutoPostForm").attr("target","_self").attr("method","POST").append(jQuery("<input>").attr("type","hidden").attr("name","token").attr("value",csrfToken)),jQuery("body").append(this.postForm)),this.postForm},this.isSameOrigin=function(e){return e.origin&&e.origin===this.hostOrigin},this.isClientModopCustom=function(e){return!(!e.pathname||!e.pathname.match(/\/clientarea.php$/)||!e.searchParams||"custom"!==e.searchParams.get("modop"))},this.getFqUrl=function(e){try{return e.match(/[a-z]+:\/\//i)||(0!==e.indexOf("/")&&(e=window.location.pathname.split("/").slice(0,-1).join("/")+"/"+e),e=""+this.hostOrigin+e),url=new URL(e)}catch(e){return null}},this.isUrlEligibleForToken=function(e){return!("string"==typeof e&&!(e=this.getFqUrl(e))||"object"!=typeof e||!this.isSameOrigin(e))&&this.isClientModopCustom(e)},this.submitUrlViaPost=function(e,t){jQuery(this.getAutoPostForm()).attr("target",t||"_self").attr("action",e).submit()},this.processTokenSubmitters=function(){jQuery("a").each((e,n)=>{const i=jQuery(n).attr("href");i&&this.isUrlEligibleForToken(i)&&!jQuery(n).data("whmcs-tokenized")&&(jQuery(n).data("whmcs-tokenized",!0),jQuery(n).attr("href","#"),jQuery(n).on("click",e=>{let t=jQuery(n).attr("target");(e.metaKey||e.ctrlKey)&&(t="_blank"),e.preventDefault(),this.submitUrlViaPost(i,t)}),jQuery(n).on("contextmenu",e=>(e.preventDefault(),!1)))})}}}),function(e){WHMCS.hasModule("http")||WHMCS.loadModule("http",e)}({jqClient:function(){return _getSettings=function(e,t,n,i){return"object"==typeof e?e:("function"==typeof t&&(n=t,t=null),{url:e,data:t,success:n,dataType:i})},this.get=function(e,t,n,i){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,n,i),{type:"GET"}))},this.post=function(e,t,n,i){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,n,i),{type:"POST"}))},this.jsonGet=function(n){n=n||{},this.get(n.url,n.data,function(e){e.warning?(console.log("[WHMCS] Warning: "+e.warning),"function"==typeof n.warning&&n.warning(e.warning)):e.error?(console.log("[WHMCS] Error: "+e.error),"function"==typeof n.error&&n.error(e.error)):"function"==typeof n.success&&n.success(e)},"json").error(function(e,t){console.log("[WHMCS] Error: "+t),"function"==typeof n.fail&&n.fail(t)}).always(function(){"function"==typeof n.always&&n.always()})},this.jsonPost=function(i){i=i||{},this.post(i.url,i.data,function(e,t,n){e.warning?(console.log("[WHMCS] Warning: "+e.warning),"function"==typeof i.warning&&i.warning(e.warning,e,n)):e.error?(console.log("[WHMCS] Error: "+e.error),"function"==typeof i.error&&i.error(e.error,e,n)):"function"==typeof i.success&&i.success(e,n)},"json").fail(function(e,t,n){console.log("[WHMCS] Fail: "+t),"function"==typeof i.fail&&i.fail(t,e.responseJSON,e)}).always(function(e,t,n){"function"==typeof i.always&&i.always(e)})},this},client:function(){var a=this;return _beforeRequest=function(e){return void 0===e.type&&(e.type="GET"),e},this.request=function(e){return e=_beforeRequest(e||{}),jQuery.ajax(e)},jQuery.each(["get","post","put","delete"],function(e,t){var n,i;a[t]=(n=t,i=a,function(e){return(e=e||{}).type=n.toUpperCase(),i.request(e)})}),this}}),WHMCS.hasModule("ui")||WHMCS.loadModule("ui",{confirmation:function(){var t=[];return this.register=function(e){return t.indexOf(e=void 0===e?"[data-toggle=confirmation]":e)<0&&t.push(e),jQuery(e).confirmation({rootSelector:e}),t},this},dataTable:function(){return this.tables={},this.register=function(){var n=this;jQuery("table.data-driven").each(function(e,t){n.getTableById(t.id,void 0)})},this.getTableById=function(e,n){var t,i,a=this,r=jQuery("#"+e);return void 0===a.tables[e]?(void 0===n&&(n={dom:'<"listtable"ift>pl',paging:!1,lengthChange:!1,searching:!1,ordering:!0,info:!1,autoWidth:!0,columns:[],lengthMenu:[10,25,50,100,500,1e3],language:{emptyTable:r.data("langEmptyTable")?r.data("langEmptyTable"):"No records found"}}),jQuery.each(r.data(),function(e,t){void 0!==t&&("ajaxUrl"===e?n.ajax={url:t}:"lengthChange"===e?n.lengthChange=t:"pageLength"===e?n.pageLength=t:"langEmptyTable"===e?(void 0===n.language&&(n.language={}),n.language.emptyTable=t):"langZeroRecords"===e?(void 0===n.language&&(n.language={}),n.language.zeroRecords=t):n.key=t)}),jQuery.each(r.find("th"),function(){void 0===n.columns&&(n.columns=[]),n.columns.push({data:jQuery(this).data("name")})}),a.tables[e]=a.initTable(r,n)):void 0!==n&&(i=(t=a.tables[e]).init(),i=jQuery.extend(i,n),t.destroy(),a.tables[e]=a.initTable(r,i)),a.tables[e]},this.initTable=function(i,e){var e=i.DataTable(e),t=this;return i.data("on-draw")?e.on("draw.dt",function(e,t){var n=i.data("on-draw");"function"==typeof window[n]&&window[n](e,t)}):i.data("on-draw-rebind-confirmation")&&e.on("draw.dt",function(e){t.rebindConfirmation(e)}),e},this.rebindConfirmation=function(e){for(var t=this,n=e.target.id,i=WHMCS.ui.confirmation.register(),a=0,r=i.length;a<r;a++)jQuery(i[a]).on("confirmed.bs.confirmation",function(e){e.preventDefault(),WHMCS.http.jqClient.post(jQuery(e.target).data("target-url"),{token:csrfToken}).done(function(e){"success"!==e.status&&"okay"!==e.status||t.getTableById(n,void 0).ajax.reload()})})},this},clipboard:function(){return this.copy=function(e){e.preventDefault();var e=$(e.currentTarget),t=$(e).data("clipboard-target"),n=$(t).parent();try{var i=$("<textarea>").css("position","fixed").css("opacity","0").css("width","1px").css("height","1px").val($(t).val());n.append(i),i.focus().select(),document.execCommand("copy")}finally{i.remove()}e.tooltip({trigger:"click",placement:"bottom"}),WHMCS.ui.toolTip.setTip(e,"Copied!"),WHMCS.ui.toolTip.hideTip(e)},this},toolTip:function(){this.setTip=function(e,t){var n=e.data("bs.tooltip");return"in"!==n.hoverState&&(n.hoverState="in"),e.attr("data-original-title",t),n.show(),n},this.hideTip=function(e,t){return t=t||2e3,setTimeout(function(){e.data("bs.tooltip").hide()},t)}},jsonForm:function(){return this.managedElements="input,textarea,select",this.initFields=function(e){var t=this;$(e).find(t.managedElements).each(function(){var e=this;$(e).on("keypress change",function(){t.fieldHasError(e)&&t.clearFieldError(e)})})},this.init=function(t){var n=this;n.initFields(t),$(t).on("submit",function(e){e.preventDefault(),e.stopPropagation(),n.clearErrors(t);e=$(t).parents('.modal[role="dialog"]').first();$(e).length&&($(e).on("show.bs.modal hidden.bs.modal",function(){n.clearErrors(t)}),$(e).on("show.bs.modal",function(){$(t)[0].reset()})),WHMCS.http.client.post({url:$(t).attr("action"),data:$(t).serializeArray()}).done(function(e){n.onSuccess(t,e)}).fail(function(e){n.onError(t,e)}).always(function(e){n.onRequestComplete(t,e)})})},this.initAll=function(){var e=this;$('form[data-role="json-form"]').each(function(){e.init(this)})},this.markFieldErrors=function(e,t){var n,i,a=null;for(i in t)t.hasOwnProperty(i)&&(a=t[i]),n=this.managedElements.split(",").map(function(e){return e+'[name="'+i+'"]'}).join(","),n=$(e).find(n),a&&($(n).parents(".form-group").addClass("has-error"),$(n).attr("title",a),$(n).tooltip());$(e).find(".form-group.has-error input[title]").first().tooltip("show")},this.fieldHasError=function(e){return $(e).parents(".form-group").hasClass("has-error")},this.clearFieldError=function(t){try{$(t).tooltip("dispose")}catch(e){$(t).tooltip("destroy")}$(t).parents(".form-group").removeClass("has-error")},this.onSuccess=function(e,t){e=$(e).data("on-success");"function"==typeof e&&e(t.data)},this.onError=function(e,t){t.responseJSON&&t.responseJSON.fields&&"object"==typeof t.responseJSON.fields?this.markFieldErrors(e,t.responseJSON.fields):console.log("Unknown error - please try again later.");e=$(e).data("on-error");"function"==typeof e&&e(t)},this.clearErrors=function(e){var t=this;$(e).find(t.managedElements).each(function(){t.clearFieldError(this)})},this.onRequestComplete=function(e,t){},this},effects:function(){this.errorShake=function(e){var d={},d=$.extend({direction:"left",distance:8,times:3,speed:90},d);return e.each(function(){var e=$(this),t={position:e.css("position"),top:e.css("top"),bottom:e.css("bottom"),left:e.css("left"),right:e.css("right")},n=(e.css("position","relative"),"up"===d.direction||"down"===d.direction?"top":"left"),i="up"===d.direction||"left"===d.direction?"pos":"neg",a={},r={},o={};a[n]=("pos"==i?"-=":"+=")+d.distance,r[n]=("pos"==i?"+=":"-=")+2*d.distance,o[n]=("pos"==i?"-=":"+=")+2*d.distance,e.animate(a,d.speed);for(var s=1;s<d.times;s++)e.animate(r,d.speed).animate(o,d.speed);e.animate(r,d.speed).animate(a,d.speed/2,function(){e.css(t)})})}},markdownEditor:function(){this.editors={},this.counters={},this.register=function(){let n=this;jQuery(".container-markdown-editor").each(function(e,t){void 0===(t=jQuery(t)).attr("id")?console.debug("Element has no id",t):(n.getEditorById(t.attr("id")),n.withTagging(t))})},this.withTagging=function(e){e.is(".editor-tagging")&&e.atwho({at:"@",displayTpl:'<li class="mention-list">${gravatar} ${username} - ${name} (${email})</li>',insertTpl:mentionsFormat,data:e.data("tagging-url"),limit:5})},this.getEditorById=function(e){var t=jQuery("#"+e);return void 0===this.editors[e]&&(this.editors[e]=this.init(t)),this.editors[e]},this.init=function(e){let i=this,a=e.attr("id");var t=a+"-footer";let r="#"+t;var t='<div id="'+t+'" class="markdown-editor-status"></div>',n=void 0===e.data("locale")?"en":e.data("locale");let o=e.data("localStorageId"),s=csrfToken,d=e.data("fetchPreviewUrl");return i.counters[a]=0,e.markdown({footer:t,autofocus:!1,savable:!1,resize:"vertical",iconlibrary:"glyph",language:n,onShow:function(e){let t="",n=!1;"undefined"!=typeof Storage&&(t=localStorage.getItem(o),n=!0,t)&&void 0!==t&&e.setContent(t),jQuery(r).html(i.parseMdeFooter(t,n,"saved"))},onChange:function(e){let t=e.getContent(),n=!1;a=e.$element.attr("id"),"undefined"!=typeof Storage&&(i.counters[a]=3,n=!0,localStorage.setItem(o,t),i.doCountdown(a)),jQuery(r).html(i.parseMdeFooter(t,n))},onPreview:function(e){let t=e.getContent(),n;return jQuery.ajax({url:d,async:!1,data:{token:s,action:"parseMarkdown",content:t},dataType:"json",success:function(e){n=e},method:"POST"}),n.body||""},additionalButtons:[[{name:"groupCustom",data:[{name:"cmdHelp",title:"Help",hotkey:"Ctrl+F1",btnClass:"btn open-modal",icon:{glyph:"fas fa-question-circle",fa:"fas fa-question-circle","fa-3":"icon-question-sign"},callback:function(e){e.$editor.removeClass("md-fullscreen-mode")}}]}]],hiddenButtons:["cmdImage"]}),i.addEventHelpModal(e),e},this.parseMdeFooter=function(e,t,n){void 0===n&&(n="autosaving");let i=[],a=0,r=0;if(e&&(i=e.match(/[^\s]+/g),r=e.split(/\\r\\n|\\r|\\n/).length),i)for(let e=0;e<i.length;e++)19968<=i[e].charCodeAt(0)?a+=i[e].length:a+=1;return'<div class="smallfont">lines: '+r+"&nbsp;&nbsp;&nbsp;words: "+a+(t?'&nbsp;&nbsp;&nbsp;<span class="markdown-save">'+n+"</span>":"")+"</div>"},this.doCountdown=function(e){let t=this;0<=t.counters[e]&&(0===t.counters[e]&&jQuery("span.markdown-save").html("saved"),t.counters[e]--,setTimeout(function(e){t.doCountdown(e)},1e3,e))},this.addEventHelpModal=function(e){return e.parent().find('button[data-handler="bootstrap-markdown-cmdHelp"]').attr("data-modal-title","Markdown Guide").attr("data-modal-size","modal-lg").attr("href",e.data("fetchHelpUrl")),this}}}),WHMCS.hasModule("form")||WHMCS.loadModule("form",function(){return this.checkAllBound=false,this.register=function(){if(!this.checkAllBound){this.bindCheckAll();this.checkAllBound=true}},this.bindCheckAll=function(){var e=".btn-check-all";jQuery("body").on("click",e,function(e){var t=jQuery(e.target);var n=jQuery("#"+t.data("checkbox-container")+' input[type="checkbox"]');if(t.data("btn-check-toggle")){var i="Deselect All";var a="Select All";if(t.data("label-text-deselect"))i=t.data("label-text-deselect");if(t.data("label-text-select"))a=t.data("label-text-select");if(t.hasClass("toggle-active")){n.prop("checked",false);t.text(a);t.removeClass("toggle-active")}else{n.prop("checked",true);t.text(i);t.addClass("toggle-active")}}else if(t.data("btn-toggle-on"))n.prop("checked",true);else n.prop("checked",false)})},this.reloadCaptcha=e=>{if(typeof grecaptcha!=="undefined"){recaptchaValidationComplete=false;grecaptcha.reset();WHMCS.recaptcha.restoreDefaultCallback();return}if(!e)e=jQuery("#inputCaptchaImage");const t=jQuery("#inputCaptcha");if(e.length){e.attr("src",whmcsBaseUrl+"/includes/verifyimage.php?nocache="+(new Date).getTime());t.val("")}},this});var recaptchaLoadComplete=!1,recaptchaCount=0,recaptchaType="recaptcha",recaptchaValidationComplete=!1;function getRecommendationColors(e,t){var e=tinycolor(e),n=tinycolor("fff"),i=Math.round(100*Math.min(e.getBrightness()/255));return i<25?e.lighten(25-i):75<i&&e.darken(i-75),(i=e.clone().darken(t)).isLight()&&(n=tinycolor("000")),[e.toHexString(),i.toHexString(),n.toHexString()]}function setRecommendationColors(){var n;jQuery(".product-recommendations .product-recommendation").each(function(){var e=jQuery(this),t=e.data("color");0<t.length&&null!=t.match(/^#[0-9A-Fa-f]{3,6}$/gi)||(t="#9abb3a"),n=getRecommendationColors(t,15),e.css("border-color",n[0]),jQuery(".btn-add",e).css("background-color",n[0]),jQuery(".expander",e).css("color",n[0]),jQuery(".price",e).css("color",n[1]),jQuery(".text",e).css({color:n[2]}),jQuery(".arrow",e).css({"background-color":n[1],color:n[2]})})}function displayRecommendations(e,t,n){var i=jQuery.Deferred(),a=jQuery("#divProductHasRecommendations").data("value"),r=jQuery("#recommendationsModal"),o=jQuery(".cart-btn .badge");return n||a?(jQuery('.cart-body button[type="submit"] i').removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.jsonPost({url:e,data:t,success:function(e){e.success&&e.href?(r.on("hide.bs.modal",function(){return window.location=e.href,!1}),jQuery("#btnContinueRecommendationsModal",r).attr("href",e.href).click(function(){jQuery("span",this).removeClass("w-hidden hidden")}),jQuery(".modal-body",r).html("").html(e.html),setRecommendationColors(),r.modal("show"),jQuery("i.fa-spinner.fa-spin:visible").removeClass("fa-spinner fa-spin").addClass("fa-check-circle"),o.text(e.count)):!e.success&&e.href?window.location=e.href:i.resolve(!1)},error:function(){i.resolve(!1)}})):i.resolve(!1),i.promise()}WHMCS.hasModule("recaptcha")||WHMCS.loadModule("recaptcha",function(){return this.register=function(){if(recaptchaLoadComplete)return;var u=[],e=jQuery(".btn-recaptcha").parents("form"),c=false;e.each(function(e,t){if(typeof recaptcha.siteKey==="undefined"){console.error("Recaptcha site key not defined");return}if(typeof recaptcha.libUrl==="undefined"){console.error("Recaptcha client js url not defined");return}if(typeof recaptcha.apiObject==="undefined"){console.error("Recaptcha client js api object name not defined");return}recaptchaCount+=1;var n=jQuery(t),i=n.find(".btn-recaptcha"),a=typeof recaptcha.requiredText!=="undefined"?recaptcha.requiredText:"Required",r="divDynamicRecaptcha"+recaptchaCount;c=i.hasClass("btn-recaptcha-invisible");var o=n.find("#"+r+" .g-recaptcha"),s=n.find(".recaptcha-container"),d=n;if(s.length){s.attr("id",s.attr("id")+recaptchaCount);d=s}if(!o.length){d.append('<div id="#'+r+'" class="g-recaptcha"></div>');o=d.find("#"+r)}if(!c)o.data("toggle","tooltip").data("placement","bottom").data("trigger","manual").attr("title",a).hide();var l=r+"Callback";window[l]=function(){if(c)n.submit()};if(c){recaptchaType="invisible";n.on("submit.recaptcha",function(e){var t=n.find(".g-recaptcha").data("recaptcha-id");if(!window[recaptcha.apiObject].getResponse(t).trim()){e.preventDefault();window[recaptcha.apiObject].execute(t);recaptchaValidationComplete=false}else recaptchaValidationComplete=true})}else{u.push(function(){o.slideDown("fast",function(){o.find(":first").addClass("center-block")})});u.push(function(){o.find(":first").addClass("center-block")})}});window.recaptchaLoadCallback=function(){jQuery(".g-recaptcha").each(function(e,t){var n=jQuery(t),i=n.closest("form"),a=i.find(".btn-recaptcha"),r=n.attr("id").substring(1);var o=grecaptcha.render(t,{sitekey:recaptcha.siteKey,size:a.hasClass("btn-recaptcha-invisible")?"invisible":"normal",callback:r+"Callback"});n.data("recaptcha-id",o)})};if(e.length)jQuery.getScript(recaptcha.libUrl,function(){for(var e=u.length-1;e>=0;e--)u[e]()});let t=jQuery(".captcha-overlay-badge"),n=jQuery(".captcha-overlay-popup");if(e.length&&t.length){t.show();if(n.length){let a;function i(){n.hide()}function r(n,i){return function(){const e=this;const t=arguments;clearTimeout(a);a=setTimeout(function(){n.apply(e,t)},i)}}const o=r(i,3e3);t.bind("mouseenter",function(){n.show();clearTimeout(a)});t.bind("mouseleave",o);t.bind("touchstart",function(){n.show();clearTimeout(a);a=setTimeout(i,3e3)})}}recaptchaLoadComplete=true},this.setupCallback=r=>{if(typeof r!=="function")return;jQuery(".g-recaptcha").each(function(e,t){const n=jQuery(t).attr("id").substring(1);const i=n+"Callback";const a=i+"Original";if(typeof window[a]==="undefined")window[a]=window[i];window[i]=r})},this.restoreDefaultCallback=()=>{jQuery(".g-recaptcha").each(function(e,t){const n=jQuery(t).attr("id").substring(1);const i=n+"Callback";const a=i+"Original";if(typeof window[a]!=="undefined"){window[i]=window[a];delete window[a]}})},this}),WHMCS.hasModule("utils")||WHMCS.loadModule("utils",function(){return this.simpleRNG=function(){var e="./$_-#!,^*()|";var t=0;for(var n=0;t<3;n++)t+=Math.floor(Math.random()*10/2);t=Math.floor(t);var i="";for(var a=0;a<t;a++){v=(Math.random()+1).toString(24).split(".")[1];if(Math.random()>.5)i+=btoa(v).substr(0,4);else i+=v;if(Math.random()>.5)i+=e.substr(Math.floor(Math.random()*13),1)}return i},this.getRouteUrl=function(e){return whmcsBaseUrl+"/index.php?rp="+e},this.validateBaseUrl=function(){if(typeof window.whmcsBaseUrl==="undefined"){console.log("Warning: The WHMCS Base URL definition is missing "+"from your active template. Please refer to "+"https://go.whmcs.com/1961/base-url "+"for more information and details of how to resolve this "+"warning.");window.whmcsBaseUrl=this.autoDetermineBaseUrl();window.whmcsBaseUrlAutoSet=true}else if(window.whmcsBaseUrl===""&&typeof window.whmcsBaseUrlAutoSet!=="undefined"&&window.whmcsBaseUrlAutoSet===true)window.whmcsBaseUrl=this.autoDetermineBaseUrl()},this.autoDetermineBaseUrl=function(){var e=window.location.href;var t=-1;if(typeof e!=="undefined")t=e.indexOf(".php");if(t===-1){e=jQuery("#Primary_Navbar-Home a").attr("href");if(typeof e!=="undefined")t=e.indexOf(".php")}if(t!==-1){e=e.substring(0,t);var n=e.lastIndexOf("/");if(n!==false)return e.substring(0,n)}return""},this.normaliseStringValue=function(e){return e?e.toLowerCase().replace(/\s/g,"-"):""},this.generatePassword=function(e){var t=this.getPasswordCharacterSet();var n="";for(var i=0;e>i;i++)n+=t[this.randomInt(t.length)];return n},this.getPasswordCharacterSet=function(){var e="0123456789"+"abcdefghijklmnopqrstuvwxyz"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"!#$%()*+,-.:;=@_|{ldelim}{rdelim}~";var t=[];for(var n=0;e.length>n;n++){var i=e.charCodeAt(n);if(55296>i||i>=57344){var a=e.charAt(n);if(t.indexOf(a)==-1)t.push(a);continue}if(56320>i?e.length>n+1:false){var r=e.charCodeAt(n+1);if(r>=56320?57344>r:false){var a=e.substring(n,n+2);n++;if(t.indexOf(a)==-1)t.push(a);continue}}throw"Invalid UTF-16"}return t},this.randomInt=function(e){var t=this.randomIntMathRandom(e);t=(t+this.randomIntBrowserCrypto(e))%e;return t},this.randomIntMathRandom=function(e){var t=Math.floor(Math.random()*e);if(0>t||t>=e)throw"Arithmetic exception";return t},this.randomIntBrowserCrypto=function(e){var t=null;if("crypto"in window)t=crypto;else if("msCrypto"in window)t=msCrypto;else return 0;if(!("getRandomValues"in t)||!("Uint32Array"in window)||typeof Uint32Array!="function")t=null;if(t==null)return 0;var n=new Uint32Array(1);do{t.getRandomValues(n)}while(n[0]-n[0]%e>4294967296-e);return n[0]%e},this}),WHMCS.utils.validateBaseUrl(),jQuery(document).ready(function(){jQuery("#main-body").on("click",".product-recommendations .product-recommendation .header",function(e){jQuery(e.target).is(".btn, .btn span, .btn .fa")||(e.preventDefault(),0<jQuery(".fa-square",this).length)||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast"))}).on("click",".product-recommendations .product-recommendation .btn-add",function(){jQuery(this).attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin")}).on("click",".order-button, .order-btn, .btn-order-now",function(e){var t;1==jQuery(this).data("hasRecommendations")&&(e.preventDefault(),t=jQuery(this).attr("href"),jQuery("i",this).removeClass().addClass("fas fa-spinner fa-spin"),displayRecommendations(t,"addproductajax=1",!0).done(function(){window.location=t}))}),setRecommendationColors(),(document.URL.includes("cart.php?a=checkout")||document.URL.includes("cart.php?a=view"))&&0<jQuery("#recommendationsModal .product-recommendation:not(.clonable)").length&&jQuery("#recommendationsModal").modal("toggle")}),"undefined"==typeof localTrans&&(localTrans=function(e,t){return"undefined"!=typeof _localLang&&void 0!==_localLang[e]&&0<_localLang[e].length?_localLang[e]:t});var domainLookupCallCount,checkoutForm,furtherSuggestions,hideCvcOnCheckoutForExistingCard=0;function validateCheckoutCreditCardInput(e){var t=jQuery('input[name="ccinfo"]:checked').val(),n=checkoutForm.find('*[type="submit"]'),i=null,a=!0,r=checkoutForm.find('input[name="paymentmethod"]:checked'),o=r.hasClass("is-credit-card"),r="RemoteCreditCard"===r.data("payment-type"),s=jQuery("#inputCardNumber");checkoutForm.find(".form-group").removeClass("has-error"),checkoutForm.find(".field-error-msg").hide(),o&&!r&&(o=checkoutForm.find("#inputCardCVV2"),"new"===t&&(o=checkoutForm.find("#inputCardCVV"),i=jQuery.payment.cardType(checkoutForm.find("#inputCardNumber").val()),jQuery.payment.validateCardNumber(checkoutForm.find("#inputCardNumber").val())&&!s.hasClass("unsupported")||(r=s.data("message-invalid"),s.hasClass("unsupported")&&(r=s.data("message-unsupported")),checkoutForm.find("#inputCardNumber").setInputError(r).showInputError(),a=!1),jQuery.payment.validateCardExpiry(checkoutForm.find("#inputCardExpiry").payment("cardExpiryVal"))||(checkoutForm.find("#inputCardExpiry").showInputError(),a=!1)),o.is(":visible")&&!jQuery.payment.validateCardCVC(o.val(),i)&&(o.showInputError(),a=!1),a||(n.prop("disabled",!1).removeClass("disabled").find("i").removeAttr("class").addClass("fas fa-arrow-circle-right"),e.preventDefault()))}function hasDomainLookupEnded(){3==++domainLookupCallCount&&jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled")}function hasProductDomainLookupEnded(e,t){++domainLookupCallCount==e&&(t.removeAttr("disabled").removeClass("disabled"),jQuery('input[name="domainoption"]').iCheck("enable"))}function domainGotoNextStep(){jQuery("#domainLoadingSpinner").show(),jQuery("#frmProductDomainSelections").submit()}function removeItem(e,t,n=null){null!==n&&jQuery("#inputRemoveItemRenewalType").val(n),jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(t),jQuery("#modalRemoveItem").modal("show")}function updateConfigurableOptions(e,t){WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+t,function(e){var t=jQuery("#productConfigurableOptions"),n=jQuery("#productAddonsContainer");t.length&&t.html(jQuery(e).find("#productConfigurableOptions").html()),n.length&&n.html(jQuery(e).find("#productAddonsContainer").html()),jQuery("input").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),recalctotals()}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var t=Math.floor(1e6*Math.random()+1),e=(window.lastSliderUpdateRequestId=t,WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize()));e.done(function(e){t==window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(e)}),e.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function recalculateRenewalTotals(){var e="/cart/domain/renew/calculate",t=(1<=jQuery("#serviceRenewals").length&&(e="/cart/service/renew/calculate"),jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast"),Math.floor(1e6*Math.random()+1));window.lastSliderUpdateRequestId=t,WHMCS.http.jqClient.get(WHMCS.utils.getRouteUrl(e)).done(function(e){t===window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(e.body)}).always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function selectDomainPricing(e,t,n,i,a){jQuery("#domainSuggestion"+a).iCheck("check"),jQuery("[name='domainsregperiod["+e+"]']").val(n),jQuery("[name='"+e+"-selected-price']").html('<b class="glyphicon glyphicon-shopping-cart"></b> '+n+" "+i+" @ "+t)}function selectDomainPeriodInCart(e,t,n,i){var a=jQuery("#orderSummaryLoader"),i=(a.not(":visible")&&a.fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html(n+" "+i+' <span class="caret"></span>'),jQuery("[name='"+e+"Price']").html(t),WHMCS.http.jqClient.post(window.location.pathname,{domain:e,period:n,a:"updateDomainPeriod",token:csrfToken}));i.done(function(e){e.forceReload?window.location.reload():(e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Price']").parent("div").find(".renewal-price").html(e.prefixedRenewPrice+e.shortRenewalYearsLanguage)}),jQuery("#subtotal").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2),jQuery("#recurring").find("span:visible").not("span.cost").fadeOut("fast"),e.totalrecurringannually&&jQuery("#recurringAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").fadeIn("fast").find(".cost").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").fadeIn("fast").find(".cost").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").fadeIn("fast").find(".cost").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").fadeIn("fast").find(".cost").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total))}),i.always(function(){a.delay(500).fadeOut("slow")})}function loadMoreSuggestions(){for(var e=jQuery("#domainSuggestions"),t=1;t<=10;t++){if(!(0<furtherSuggestions))return void jQuery("div.more-suggestions").find("a").addClass("hidden").end().find("span.no-more").removeClass("hidden");e.find("div.domain-suggestion.clone:hidden:first").slideDown(),furtherSuggestions=e.find("div.domain-suggestion.clone:hidden").length}}function retrieveCaptchaInput(){return new Promise((t,n)=>{var e,i=jQuery("#inputCaptcha"),a=jQuery(".g-recaptcha");return i.length?(e=i.val().trim())?(i.tooltip("hide"),void t({code:e})):(i.tooltip("show").focus(),void n("")):"invisible"!==recaptchaType&&"v3"!==recaptchaType||void 0===recaptchaValidationComplete||recaptchaValidationComplete?"undefined"!=typeof grecaptcha?(e=grecaptcha.getResponse())?void t({"g-recaptcha-response":e}):(a[0]?.scrollIntoView({block:"center"}),void n("")):void t({}):void("undefined"!=typeof grecaptcha&&grecaptcha.execute?(WHMCS.recaptcha.setupCallback(e=>{e?(recaptchaValidationComplete=!0,t({"g-recaptcha-response":e})):n("")}),grecaptcha.execute()?.catch(e=>{n(e)}),grecaptcha.getResponse()&&t({"g-recaptcha-response":grecaptcha.getResponse()})):n(""))})}function validate_captcha(t){let e=jQuery("#g-recaptcha-response"),n=jQuery("#divDynamicRecaptcha"),i=jQuery("#inputCaptcha");return e.length&&!e.val()?(n.tooltip("show"),!1):i.length&&!i.val()?(i.tooltip("show"),!1):void WHMCS.http.jqClient.post(t.attr("action"),t.serialize()+"&a=validateCaptcha",null,"json").done(function(e){e.error?(jQuery("#inputCaptcha, .recaptcha-container").attr("data-original-title",e.error).tooltip("show"),i.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="'+whmcsBaseUrl+"/includes/verifyimage.php?nocache="+(new Date).getTime()+'" align="middle" />')):(jQuery("#captchaContainer").remove(),t.trigger("submit"))})}function selectPreferredCard(){var e=jQuery('input[name="ccinfo"]:visible'),t=e.first(),e=e.filter("[data-order-preference=0]");(t=e.length?e:t).iCheck("check")}function showNoneRenewableServices(){jQuery(".service-renewal, .addon-renewals").each(function(){"false"===jQuery(this).attr("data-is-renewable")&&jQuery(this).show()})}function hideNoneRenewableServices(){jQuery(".service-renewal, .addon-renewals").each(function(e,t){var n=jQuery(this).attr("data-is-renewable");"false"===n?hasRenewableServiceAddon(t)?jQuery(this).show():jQuery(this).hide():"true"===n&&jQuery(this).show()})}function hasRenewableServiceAddon(e){var n=!1;return jQuery(e).find("div.service-renewal").each(function(e,t){if("true"===jQuery(t).attr("data-is-renewable"))return n=!0}),n}jQuery(document).ready(function(){jQuery("#order-standard_cart").find("input").not(".no-icheck").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery(".mc-promo .header").click(function(e){e.preventDefault(),jQuery(e.target).is(".btn, .btn span,.btn .fa")||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast"))}),jQuery(".mc-promos.viewcart .mc-promo:first-child .header").click();var a,r,o,e=jQuery("#inputCardNumber"),t=jQuery("#inputCardCVV2"),s=(e.length&&(e.payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry")),t.length&&t.payment("formatCardCVC"),jQuery("#orderSummary"));function n(){var e,t,n,i;"none"===jQuery("#scrollingPanelContainer").css("float")?s.stop().css("margin-top","0"):(e=s.outerHeight(),t=0,n=jQuery("#scrollingPanelContainer").prev("div.secondary-cart-body"),void 0!==a&&(t=a.top),i=jQuery(window).scrollTop()-t+o,e<jQuery(window).height()?(n.stop().animate({marginTop:0}),r-e<i&&(i=r-e),jQuery(window).scrollTop()>t?s.stop().animate({marginTop:i}):s.stop().animate({marginTop:0})):(s.stop().animate({marginTop:0}),i+n.height()>s.height()||(jQuery(window).scrollTop()>t?n.stop().animate({marginTop:i}):n.stop().animate({marginTop:0}))))}s.length&&(a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,o=15,jQuery(window).resize(function(){a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,n()}),jQuery(window).scroll(function(){n()}),n()),jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var e=jQuery("#btnCompleteProductConfig"),t=jQuery(e).html(),n=whmcsBaseUrl+"/cart.php",i="a=confproduct&"+jQuery("#frmConfigureProduct").serialize();jQuery(e).find("i").removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),displayRecommendations(n,"addproductajax=1&"+i,!1).done(function(){WHMCS.http.jqClient.post(n,"ajax=1&"+i,function(e){e?(jQuery("#btnCompleteProductConfig").html(t),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").show(),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-15)):window.location=whmcsBaseUrl+"/cart.php?a=confdomains"})})}),jQuery("#productConfigurableOptions").on("ifChecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("change","select",function(){recalctotals()}),jQuery(".addon-products").on("click",".panel-addon",function(e){e.preventDefault();e=jQuery(this);e.hasClass("panel-addon-selected")?e.find('input[type="checkbox"]').iCheck("uncheck"):e.find('input[type="checkbox"]').iCheck("check")}),jQuery(".addon-products").on("ifChecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.addClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("check"),t.find(".panel-add").html('<i class="fas fa-shopping-cart"></i> '+localTrans("addedToCartRemove","Added to Cart (Remove)")),recalctotals()}),jQuery(".addon-products").on("ifUnchecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.removeClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("uncheck"),t.find(".panel-add").html('<i class="fas fa-plus"></i> '+localTrans("addToCart","Add to Cart")),recalctotals()}),jQuery("#frmConfigureProduct").on("ifChecked",".addon-selector",function(e){recalctotals()}),0==jQuery(".domain-selection-options input:checked").length&&(e=jQuery(".domain-selection-options input:first"),jQuery(e).iCheck("check"),jQuery(e).parents(".option").addClass("option-selected")),jQuery("#domain"+jQuery(".domain-selection-options input:checked").val()).show(),jQuery(".domain-selection-options input").on("ifChecked",function(e){jQuery(".domain-selection-options .option").removeClass("option-selected"),jQuery(this).parents(".option").addClass("option-selected"),jQuery(".domain-input-group").hide(),jQuery("#domain"+jQuery(this).val()).show()}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var t=jQuery(this).find('button[type="submit"]'),e=jQuery("#DomainSearchResults"),n=jQuery("#spotlightTlds"),o=jQuery("#domainSuggestions"),f=jQuery("#btnDomainContinue"),i=jQuery(".domain-selection-options input:checked").val(),a=jQuery("#"+i+"sld"),r=a.val(),s="",d=jQuery("#frmProductDomainPid").val(),l="",m=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),m.is(":visible")&&(m.slideUp(),m.find("select").val("")),"incart"==i)r=(a=jQuery("#"+i+"sld option:selected")).text();else if("subdomain"==i)s=(l=jQuery("#"+i+"tld option:selected")).text();else{if(s=(l=jQuery("#"+i+"tld")).val(),r&&!s)return l.tooltip("show"),l.focus(),!1;"."!=s.substr(0,1)&&(s="."+s)}if(!r)return a.tooltip("show"),a.focus(),!1;a.tooltip("hide"),l.length&&l.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,t.attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery("#primaryLookupResult div").filter(function(){return 0===$(this).closest("#idnLanguageSelector").length}).hide(),jQuery("#primaryLookupResult").find(".register-price-label").show().end().find(".transfer-price-label").hide(),jQuery(".domain-lookup-register-loader").hide(),jQuery(".domain-lookup-transfer-loader").hide(),jQuery(".domain-lookup-other-loader").hide(),("register"==i?jQuery(".domain-lookup-register-loader"):"transfer"==i?jQuery(".domain-lookup-transfer-loader"):jQuery(".domain-lookup-other-loader")).show(),jQuery(".domain-lookup-loader").show(),o.find("div:not(.actions)").hide().end().find(".clone").remove(),jQuery("div.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),f.hide().attr("disabled","disabled"),"register"!=i&&(n.hide(),jQuery(".suggested-domains").hide()),e.is(":visible")||e.fadeIn(),"register"==i?(n.fadeIn("fast"),jQuery("#resultDomainOption").val(i),a=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"domain",domain:r+s,sld:r,tld:s,source:"cartAddDomain"},"json"),l=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"spotlight",domain:r+s,sld:r,tld:s,source:"cartAddDomain"},"json"),e=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"suggestions",domain:r+s,sld:r,tld:s,source:"cartAddDomain"},"json"),a.done(function(e){jQuery.each(e.result,function(e,t){var n=jQuery("#primaryLookupResult"),i=n.find(".domain-available"),a=n.find(".domain-price"),r=n.find(".domain-unavailable"),o=n.find(".domain-invalid"),s=n.find(".domain-contact-support"),d=jQuery("#resultDomain"),l=jQuery("#resultDomainPricingTerm"),u=n.find(".domain-error");if(n.show(),jQuery(".domain-lookup-primary-loader").hide(),"string"!=typeof t&&!t.error&&t.isValidDomain)u.hide(),n=t.pricing,t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&m.not(":visible")&&m.slideDown(),t.preferredTLDNotAvailable&&unavailableTld.show().find("strong").html(t.originalUnavailableTld),s.hide(),i.show().find("strong").html(t.domainName),a.show().find("span.price").html(n[Object.keys(n)[0]].register).end().find("button").attr("data-domain",t.domainName),d.val(t.domainName),l.val(Object.keys(n)[0]).attr("name","domainsregperiod["+t.domainName+"]"),f.removeAttr("disabled")):(i=t.originalUnavailableDomain||t.domainName,r.show().find("strong").html(i),s.hide(),"string"==typeof n&&"ContactUs"==n&&s.show());else{a=!1,d=/<br\s*\/>/;if(!t.isValidDomain&&t.domainErrorMessage)o.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)u.text(t);else if(t.error.match(d)){u.text("");for(var c=t.error.split(d),h=0;h<c.length;h++){var p=c[h];p.length&&(u.text()&&u.append("<br />"),u.append(jQuery("<span></span>").text(p)))}}else u.text(t.error);u.show(),a=!0}a||o.show()}})}).always(function(){hasProductDomainLookupEnded(3,t)}),l.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".domain-lookup-spotlight-loader").hide():jQuery.each(e.result,function(e,t){var n=t.tldNoDots,i=t.pricing,n=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),n.find("button").hide(),(t.isValidDomain?t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&m.not(":visible")&&m.slideDown(),n.find("span.available").html(i[Object.keys(i)[0]].register).show().end().find("button.btn-add-to-cart").attr("data-domain",t.domainName).show(),n.find("button.domain-contact-support")):(("string"!=typeof i||""==i?n.find("button.unavailable"):n.find("button.domain-contact-support")).show(),n.find("span.available")):n.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid")).hide(),n.show()})}).always(function(){hasProductDomainLookupEnded(3,t)}),e.done(function(e){var r;"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()}):(jQuery(".suggested-domains").show(),r=1,jQuery.each(e.result,function(e,t){var n=t.tld,i=t.pricing,a=(o.find("div:first").clone(!0,!0).appendTo(o),o.find("div.domain-suggestion").last());a.addClass("clone").find("span.domain").html(t.sld).end().find("span.extension").html("."+n),t.domainName!==t.idnDomainName&&m.not(":visible")&&m.slideDown(),"string"==typeof i?(a.find("button.btn-add-to-cart").remove(),""!=i?a.find("button.domain-contact-support").show().end().find("span.price").hide():a.remove()):a.find("button.btn-add-to-cart").attr("data-domain",t.domainName).end().find("span.price").html(i[Object.keys(i)[0]].register),r<=10&&a.show(),r++,t.group&&a.find("span.promo").addClass(t.group).html(t.group.toUpperCase()).show(),0<(furtherSuggestions=o.find("div.domain-suggestion.clone").not(":visible").length)&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show())}).always(function(){hasProductDomainLookupEnded(3,t)})):"transfer"==i?(jQuery("#resultDomainOption").val(i),WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"transfer",domain:r+s,sld:r,tld:s,source:"cartAddDomain"},"json").done(function(e){var i,a,r,o,s,d;"object"!=typeof e||0==e.result.length?jQuery(".domain-lookup-primary-loader").hide():(i=jQuery("#primaryLookupResult"),a=i.find(".transfer-eligible"),r=i.find(".domain-price"),o=i.find(".transfer-not-eligible"),s=jQuery("#resultDomain"),d=jQuery("#resultDomainPricingTerm"),0===Object.keys(e.result).length&&(jQuery(".domain-lookup-primary-loader").hide(),i.show(),o.show()),jQuery.each(e.result,function(e,t){var n=t.pricing;jQuery(".domain-lookup-primary-loader").hide(),i.show(),t.isRegistered?(a.show(),r.show().find(".register-price-label").hide().end().find(".transfer-price-label").show().end().find("span.price").html(n[Object.keys(n)[0]].transfer).end().find("button").attr("data-domain",t.domainName),s.val(t.domainName),d.val(Object.keys(n)[0]).attr("name","domainsregperiod["+t.domainName+"]"),f.removeAttr("disabled")):o.show()}))}).always(function(){hasProductDomainLookupEnded(1,t)})):"owndomain"!=i&&"subdomain"!=i&&"incart"!=i||WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:i,pid:d,domain:r+s,sld:r,tld:s,source:"cartAddDomain"},"json").done(function(e){"object"!=typeof e||0==e.result.length?jQuery(".domain-lookup-subdomain-loader").hide():jQuery.each(e.result,function(e,t){!0===t.status?displayRecommendations(whmcsBaseUrl+"/cart.php","addproductajax=1&a=confproduct&i="+t.num,!1).done(function(){window.location=whmcsBaseUrl+"/cart.php?a=confproduct&i="+t.num}):(jQuery(".domain-lookup-primary-loader").hide(),("string"==typeof t?jQuery("#primaryLookupResult").show().find(".domain-error").text(t):jQuery("#primaryLookupResult").show().find(".domain-invalid")).show())})}).always(function(){hasProductDomainLookupEnded(1,t)}),f.show()}),jQuery("#frmProductDomainSelections").on("submit",function(e){var t=jQuery("#idnLanguageSelector"),n=t.find("select"),i=jQuery(this);if(t.is(":visible")&&!n.val())return e.preventDefault(),n.showInputError(),!1;e.preventDefault(),displayRecommendations(i.attr("action"),"addproductajax=1&"+i.serialize(),!1).done(function(){i.unbind().submit(),i.submit()})}),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp()}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").slideDown("",function(){jQuery("#inputCustType").val("new"),0==jQuery("#passwdFeedback").html().length&&jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").fadeIn()})}),jQuery(".marketing-email-optin").slideDown()}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")}),jQuery("#btnExistingLogin").click(()=>{var e=jQuery("#inputLoginEmail").val().trim(),t=jQuery("#inputLoginPassword").val().trim();const n=jQuery("#btnExistingLogin"),i=(jQuery(".checkout-error-feedback").hide(),{username:e,password:t,token:csrfToken});n.prop("disabled",!0).addClass("disabled").find("span").toggle(),retrieveCaptchaInput().then(e=>e?(Object.assign(i,e),new Promise((t,n)=>{WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/login/cart"),data:i,success:e=>{e.redirectUrl?window.location.href=e.redirectUrl:location.reload(!0),t()},error:e=>{n(e)}})})):Promise.reject()).catch(e=>{e&&showCheckoutError(e,jQuery("#existingLoginMessage"))}).finally(()=>{n.prop("disabled",!1).removeClass("disabled").find("span").toggle(),WHMCS.form.reloadCaptcha()})}),jQuery(".account-select").on("ifChecked",function(e){var t=jQuery("#containerNewUserSignup"),n=jQuery("#stateselect"),i=jQuery(this).val(),a=jQuery("#btnCompleteOrder"),r=jQuery("#existingCardsContainer"),o=jQuery("#inputEmail");r.length&&r.html(""),o.length&&o.attr("value",""),jQuery("#containerExistingAccountSelect").find("div.account.active").removeClass("active"),jQuery(this).closest("div.account").addClass("active"),"new"===i?t.not(":visible")&&(t.slideDown("",function(){jQuery("#inputCustType").val("add"),jQuery(".marketing-email-optin").slideDown()}),n.hasClass("requiredAttributeRemoved"))&&n.attr("required","required").removeClass("requiredAttributeRemoved"):(a.addClass("disabled"),a.hasClass("spinner-on-click")&&(o=a.find("i.fas,i.far,i.fal,i.fab"),jQuery(o).data("original-class",o.attr("class")).removeAttr("class").addClass("fas fa-spinner fa-spin")),jQuery("#inputCustType").val("account"),t.is(":visible")&&(t.slideUp(),n.attr("required")&&n.removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp())),WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/cart/account/select"),data:{account_id:i,token:csrfToken},success:function(e){var t,n,i,a=jQuery("#applyCreditContainer");jQuery("#totalCartPrice").text(e.total),a.find("p").first().text(e.availableCreditBalance),!e.canUseCreditOnCheckout&&a.is(":visible")?(t=jQuery("#skipCreditOnCheckout"),a.hide(),t.prop("checked",!0)):e.canUseCreditOnCheckout&&(t=jQuery("#useCreditOnCheckout"),n=jQuery("#spanFullCredit"),i=jQuery("#spanUseCredit"),e.full?(hideCvcOnCheckoutForExistingCard="1",n.show().find("span").text(e.total),i.is(":visible")&&i.slideUp()):(hideCvcOnCheckoutForExistingCard="0",i.show().find("span").text(e.creditBalance),n.is(":visible")&&n.slideUp()),t.iCheck("check"),a.not(":visible"))&&a.slideDown(),r.length&&(r.html(e.existingCards),r.find('input[type="radio"]').iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery(".payment-methods:checked").trigger("ifChecked"),selectPreferredCard())},always:function(){var e;a.removeClass("disabled"),a.hasClass("spinner-on-click")&&(e=a.find("i.fas,i.far,i.fal,i.fab"),jQuery(e).hasClass("fa-spinner"))&&jQuery(e).removeAttr("class").addClass(e.data("original-class"))}})});jQuery("#cvv-field-container");var u=jQuery("#existingCardsContainer"),i=jQuery("#newCardInfo"),d=jQuery("#newCardSaveSettings"),c=jQuery("#inputNoStoreContainer"),h=jQuery("#existingCardInfo"),p=jQuery("#new"),f=jQuery("#creditCardInputFields"),m=(jQuery(document).on("ifChecked",".existing-card",function(e){d.slideUp().find("input").attr("disabled","disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(i.slideUp().find("input").attr("disabled","disabled"),"1"!==hideCvcOnCheckoutForExistingCard?h.slideDown().find("input").removeAttr("disabled"):h.slideUp().find("input").attr("disabled","disabled"))}),p.on("ifChecked",function(e){d.slideDown().find("input").removeAttr("disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(i.slideDown().find("input").removeAttr("disabled"),h.slideUp().find("input").attr("disabled","disabled"))}),{_source:"checkout"}),t=(jQuery(".payment-methods").each(function(){var e=jQuery(this);WHMCS.payment.event.gatewayInit(m,e.val()),WHMCS.payment.event.gatewayOptionInit(m,e.val(),e)}).on("ifChecked",function(e){WHMCS.payment.event.gatewayUnselected(m),WHMCS.payment.display.errorClear();var o,s,d,l,i,t=jQuery(this),n={complete:function(){WHMCS.payment.event.gatewaySelected(m,t.val(),t)}},a=jQuery(document).find(".existing-card");a.length||h.slideUp().find("input").attr("disabled","disabled"),jQuery(this).hasClass("is-credit-card")?(o=jQuery(this).data("payment-type"),s=jQuery(this).val(),d=jQuery(this).data("show-local"),l=[],"RemoteCreditCard"===o?c.hide().find("input").prop("disabled","disabled"):c.not(":visible")&&c.slideDown().find("input").removeProp("disabled"),a.each(function(e){var t=jQuery(this).data("payment-type"),n=jQuery(this).data("payment-gateway"),i=jQuery(this).val(),a=t===o,r=!1,n=("RemoteCreditCard"===o?r=n===s:"CreditCard"===o&&(r=!0),d&&"CreditCard"===t&&(r=a=!0),jQuery('[data-paymethod-id="'+i+'"]'));a&&r?(jQuery(n).show(),l.push(this)):jQuery(n).hide()}),0<(a=l.filter(function(e){return!jQuery(e).attr("disabled")})).length?(i=null,jQuery.each(a,function(e,t){var t=jQuery(t),n=parseInt(t.data("order-preference"),10);if((null===i||n<i)&&(i=t.val(),0===n))return!1}),null===i&&(i="new"),jQuery.each(a,function(e,t){t=jQuery(t);if(t.val()===i)return t.iCheck("check"),!1}),u.show(),"1"!==hideCvcOnCheckoutForExistingCard?h.show().find("input").removeAttr("disabled"):h.hide().find("input").attr("disabled","disabled")):(jQuery(p).iCheck("check"),u.hide(),h.hide().find("input").attr("disabled","disabled")),f.is(":visible")?n.complete():f.slideDown(n)):f.slideUp(n)}),jQuery(".cc-input-container .paymethod-info").click(function(){var e=$(this).data("paymethod-id"),e=jQuery('input[name="ccinfo"][value='+e+"]:not(:disabled)");0<e.length&&e.iCheck("check")}),jQuery("#inputDomainContact").on("change",function(){var e=jQuery(this);"addingnew"===this.value?(e.closest("div").addClass("pb-2"),jQuery("#domainRegistrantInputFields").parent("div").slideDown()):jQuery("#domainRegistrantInputFields").parent("div").slideUp(function(){e.closest("div").removeClass("pb-2")})}),"function"==typeof registerFormPasswordStrengthFeedback?jQuery("#inputNewPassword1").keyup(registerFormPasswordStrengthFeedback):jQuery("#inputNewPassword1").keyup(function(){passwordStrength=getPasswordStrength(jQuery(this).val()),cssClass=75<=passwordStrength?(textLabel=langPasswordStrong,"success"):30<=passwordStrength?(textLabel=langPasswordModerate,"warning"):(textLabel=langPasswordWeak,"danger"),jQuery("#passwordStrengthTextLabel").html(langPasswordStrength+": "+passwordStrength+"% "+textLabel),jQuery("#passwordStrengthMeterBar").css("width",passwordStrength+"%").attr("aria-valuenow",passwordStrength),jQuery("#passwordStrengthMeterBar").removeClass("progress-bar-success progress-bar-warning progress-bar-danger").addClass("progress-bar-"+cssClass)}),jQuery("#inputDomain").on("shown.bs.tooltip",function(){setTimeout(function(e){e.tooltip("hide")},5e3,jQuery(this))}),jQuery("#frmDomainChecker").submit(function(e){var t,o,p,n,i;e.preventDefault(),void 0!==recaptchaValidationComplete&&void 0!==recaptchaType&&"invisible"===recaptchaType&&!1===recaptchaValidationComplete||(e=jQuery("#frmDomainChecker"),t=jQuery("#inputDomain"),o=jQuery("#domainSuggestions"),n=jQuery("#divDynamicRecaptcha"),i=jQuery("#inputCaptcha"),p=jQuery("#idnLanguageSelector"),jQuery(".field-error-msg").hide(),p.is(":visible")&&(p.slideUp(),p.find("select").val("")),domainLookupCallCount=0,t.val()?(t.tooltip("hide"),jQuery("#captchaContainer").length?validate_captcha(e):(n.tooltip("hide"),i.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery(".domain-lookup-loader").show(),o.find("div:not(.actions)").hide(),o.find(".clone").remove(),jQuery("div.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery("#DomainSearchResults").not(":visible")&&jQuery(".domain-pricing").fadeOut("fast",function(){jQuery("#DomainSearchResults").fadeIn()}),n=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),e.serialize()+"&type=domain","json"),i=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),e.serialize()+"&type=spotlight","json"),e=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),e.serialize()+"&type=suggestions","json"),n.done(function(e){"object"!=typeof e||0==e.result.length?jQuery(".domain-lookup-primary-loader").hide():jQuery.each(e.result,function(e,t){var n=jQuery("#primaryLookupResult"),i=n.find(".domain-available"),a=n.find(".domain-price"),r=n.find(".domain-contact-support"),o=n.find(".domain-unavailable"),s=n.find(".domain-tld-unavailable"),d=n.find(".domain-invalid"),l=n.find(".domain-error");if(jQuery(".domain-lookup-primary-loader").hide(),n.find(".btn-add-to-cart").removeClass("checkout"),n.show(),"string"!=typeof t&&!t.error&&t.isValidDomain)n=t.pricing,o.hide(),r.hide(),s.hide(),d.hide(),l.hide(),t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&p.not(":visible")&&p.slideDown(),t.preferredTLDNotAvailable&&s.show().find("strong").html(t.originalUnavailableTld),i.show().find("strong").html(t.domainName),a.show().find("span.price").html(n[Object.keys(n)[0]].register).end().find("button").attr("data-domain",t.domainName)):(i.hide(),a.hide(),r.hide(),t.preferredTLDNotAvailable?s.show().find("strong").html(t.originalUnavailableTld):o.show().find("strong").html(t.domainName),"string"==typeof n&&"ContactUs"==n&&r.show());else{i.hide(),a.hide(),o.hide(),s.hide(),r.hide(),d.hide(),l.hide();n=!1,i=/<br\s*\/>/;if(!t.isValidDomain&&t.domainErrorMessage)d.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)l.text(t);else if(t.error.match(i)){l.text("");for(var u=t.error.split(i),c=0;c<u.length;c++){var h=u[c];h.length&&(l.text()&&l.append("<br />"),l.append(jQuery("<span></span>").text(h)))}}else l.text(t.error);l.show(),n=!0}n||d.show()}})}).always(function(){hasDomainLookupEnded()}),i.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".domain-lookup-spotlight-loader").hide():jQuery.each(e.result,function(e,t){var n=t.tldNoDots,i=t.pricing,n=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),n.find("button").removeClass("checkout").hide(),(t.isValidDomain?t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&p.not(":visible")&&p.slideDown(),n.find("button.unavailable").hide().end().find("button.invalid").hide().end().find("span.available").html(i[Object.keys(i)[0]].register).show().end().find("button").not("button.unavailable").not("button.invalid").attr("data-domain",t.domainName).show(),n.find("button.domain-contact-support")):("string"==typeof i?((""==i?n.find("button.unavailable"):n.find("button.domain-contact-support")).show(),n.find("button.invalid").hide(),n):n.find("button.invalid").hide().end().find("button.unavailable").show().end()).find("span.available"):n.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid")).hide(),n.show()})}).always(function(){hasDomainLookupEnded()}),e.done(function(e){var r;"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()}):(jQuery(".suggested-domains").show(),r=1,jQuery.each(e.result,function(e,t){var n=t.tld,i=t.pricing,a=(o.find("div:first").clone(!0,!0).appendTo(o),o.find("div.domain-suggestion").last());a.addClass("clone").find("span.domain").html(t.sld).end().find("span.extension").html("."+n),"string"==typeof i?(a.find("button.btn-add-to-cart").remove(),""!=i?a.find("button.domain-contact-support").show().end().find("span.price").hide():a.remove()):(t.domainName!==t.idnDomainName&&p.not(":visible")&&p.slideDown(),a.find("button.btn-add-to-cart").attr("data-domain",t.domainName).end().find("span.price").html(i[Object.keys(i)[0]].register)),r<=10&&a.show(),r++,t.group&&(a.find("span.promo").addClass(t.group).show(),a.find("span.sales-group-"+t.group).show()),0<(furtherSuggestions=o.find("div.domain-suggestion.clone:hidden").length)&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show())}).always(function(){hasDomainLookupEnded()}))):(t.tooltip("show"),t.focus()))}),jQuery(".btn-add-to-cart").on("click",function(){var t,n,e,i,a,r,o,s,d;jQuery(this).hasClass("checkout")?window.location=whmcsBaseUrl+"/cart.php?a=confdomains":(t=jQuery(this).attr("data-domain"),n=jQuery('button[data-domain="'+t+'"]'),e=jQuery(this).attr("data-whois"),i=jQuery(this).hasClass("product-domain"),a=jQuery("#btnDomainContinue"),r=jQuery("#resultDomain"),o=jQuery("#resultDomainPricingTerm"),s=(d=jQuery("#idnLanguageSelector")).find("select"),d.is(":visible")&&!s.val()?s.showInputError():(n.find("span.to-add").hide(),n.find("span.loading").show(),d=0<jQuery(this).parents(".spotlight-tlds").length||0<jQuery(this).parents(".suggested-domains").length?1:0,WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",{a:"addToCart",domain:t,token:csrfToken,whois:e,sideorder:d,idnlanguage:s.val()},"json").done(function(e){n.find("span.loading").hide(),"added"===e.result?(n.find("span.added").show(),i||n.removeAttr("disabled").addClass("checkout"),r.length&&!r.val()&&(r.val(t),o.val(e.period).attr("name","domainsregperiod["+t+"]"),0<a.length)&&a.is(":disabled")&&a.removeAttr("disabled"),jQuery("#cartItemCount").html(e.cartCount)):(n.find("span.available.price").hide(),n.find("span.unavailable").show(),n.attr("disabled","disabled"))})))}),jQuery("#frmDomainTransfer").submit(function(e){if(e.preventDefault(),void 0===recaptchaValidationComplete||void 0===recaptchaType||"invisible"!==recaptchaType||!1!==recaptchaValidationComplete){var e=jQuery("#frmDomainTransfer"),t=jQuery("#btnTransferDomain"),n=jQuery("#inputTransferDomain"),i=jQuery("#inputAuthCode"),a=n.val(),r=i.val(),o=!1,s=jQuery("#divDynamicRecaptcha"),d=jQuery("#inputCaptcha");if(!a)return n.tooltip("show"),n.focus(),!1;n.tooltip("hide"),jQuery("#captchaContainer").length?validate_captcha(e):(s.tooltip("hide"),d.tooltip("hide"),t.attr("disabled","disabled").addClass("disabled").find("span").show().end().find(".loader").show(),WHMCS.http.jqClient.post(e.attr("action"),e.serialize(),null,"json").done(function(e){if("object"!=typeof e)return t.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled"),!1;e=e.result;"added"==e?(window.location=whmcsBaseUrl+"/cart.php?a=confdomains",o=!0):1==e.isRegistered?1!=e.epp||r||(i.tooltip("show"),i.focus()):jQuery("#transferUnavailable").html(e.unavailable).fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},3e3,jQuery(this))})}).always(function(){0==o&&t.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled")}))}}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")}),jQuery("#cardType li a").click(function(e){e.preventDefault(),jQuery("#selectedCardType").html(jQuery(this).html()),jQuery("#cctype").val(jQuery("span.type",this).html().trim())}),jQuery(document).on("click",".domain-contact-support",function(e){e.preventDefault();e=window.open();e.opener=null,e.location="submitticket.php"}),jQuery("#frmConfigureProduct input:visible, #frmConfigureProduct select:visible").first().focus(),jQuery("#frmProductDomain input[type=text]:visible").first().focus(),jQuery("#frmDomainChecker input[type=text]:visible").first().focus(),jQuery("#frmDomainTransfer input[type=text]:visible").first().focus(),jQuery(".checkout .mc-promo .btn-add").click(function(e){var t=jQuery(this),n=t.data("product-key"),i=t.data("upsell-from"),a=jQuery("#promo_"+n);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:n,upsell_from:i,checkoutModal:!0,token:csrfToken},function(e){void 0!==e.modal?openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId):e.done&&(jQuery("#totalCartPrice").text(e.newTotal),a.fadeOut(),updateAjaxModal(e))},"json")}),jQuery(".viewcart .mc-promo .btn-add").click(function(e){var t=jQuery(this);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:t.data("product-key"),upsell_from:t.data("upsell-from"),token:csrfToken},function(e){void 0!==e.modal?openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId):window.location.reload(!0)},"json")}),jQuery(document).on("click","#btnAddUpSellCheckout",function(e){var t=jQuery("#upsellModalForm");return WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",t.serialize(),function(e){e.done&&jQuery("#totalCartPrice").text(e.newTotal)},"json"),!1}),jQuery("#iCheck-useCreditOnCheckout")),e=jQuery("#iCheck-skipCreditOnCheckout"),l=(t.on("ifChecked",function(){var e=jQuery("#useCreditOnCheckout"),t=jQuery('input[name="paymentmethod"]:checked'),n=jQuery('input[name="ccinfo"]:checked'),t=t.hasClass("is-credit-card"),i=jQuery('input[name="paymentmethod"]').not(jQuery('input.is-credit-card[name="paymentmethod"]')).first(),a=jQuery("#paymentGatewaysContainer"),r=jQuery("#existingCardInfo"),o=jQuery("#creditCardInputFields"),s=jQuery("#spanFullCredit"),d=!0;e.prop("checked")&&(s.is(":hidden")&&(d=!1),t&&0!==i.length?(i.iCheck("check"),o.slideUp(),d&&a.slideUp()):!t&&a.is(":visible")?d&&a.slideUp():d&&!t||a.is(":visible")||(o.slideDown(),a.slideDown()),t)&&"new"!==n.val()&&(s.is(":visible")?(hideCvcOnCheckoutForExistingCard="1",r.hide().find("input").attr("disabled","disabled")):r.show().find("input").removeAttr("disabled"))}),e.on("ifChecked",function(){var e=jQuery('input[name="paymentmethod"]:checked'),t=jQuery('input[name="ccinfo"]:checked'),e=e.hasClass("is-credit-card"),n=jQuery("#existingCardInfo"),i=jQuery("#paymentGatewaysContainer");i.is(":visible")||i.slideDown(),e&&(hideCvcOnCheckoutForExistingCard="0","new"!==t.val()&&n.show().find("input").removeAttr("disabled"),jQuery("#creditCardInputFields").slideDown())}),jQuery("#applyCreditContainer"));l.is(":visible")&&1===l.data("apply-credit")&&t.length&&(e.iCheck("check"),t.iCheck("check")),jQuery("#domainRenewals, #serviceRenewals").find("span.added").hide().end().find("span.to-add").find("i").hide(),jQuery(".btn-add-renewal-to-cart").on("click",function(){var e,t,n=jQuery(this),i=n.outerWidth();t=1<=jQuery("#serviceRenewals").length?(e=(e=n.data("service-id")).toString().startsWith("a-")?WHMCS.utils.getRouteUrl("/cart/service/"+e.substr(2)+"/addon/renew"):WHMCS.utils.getRouteUrl("/cart/service/"+e+"/product/renew"),{token:csrfToken}):(t=n.data("domain-id"),e=WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),{domainId:t,period:jQuery("#renewalPricing"+t).val(),token:csrfToken}),n.hasClass("checkout")?window.location=whmcsBaseUrl+"/cart.php?a=view":(n.attr("disabled","disabled").each(function(){n.find("i").fadeIn("fast").end()}),WHMCS.http.jqClient.post(e,t,null,"json").done(function(e){n.find("span.to-add").hide(),"added"===e.result&&(n.find("span.added").show().end().find("i").fadeOut("fast"),n.css("width",i)),recalculateRenewalTotals()}))}),jQuery(document).on("submit","#removeRenewalForm",function(e){e.preventDefault();var t="#renewDomain";1<=jQuery("#serviceRenewals").length&&(t="#renewService"),WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",jQuery(this).serialize()+"&ajax=1").done(function(e){e=e.i;jQuery(t+e).attr("disabled","disabled").each(function(){jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled"),jQuery(this).css("width","")})}).always(function(){jQuery("#modalRemoveItem").modal("hide"),recalculateRenewalTotals()})}),jQuery(".select-renewal-pricing").on("change",function(){var e=jQuery(this).data("domain-id");jQuery("#renewDomain"+e).attr("disabled","disabled").each(function(){jQuery(this).css("width",jQuery(this).outerWidth()),jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled")})}),jQuery("#domainRenewalFilter").on("input",function(){var e=jQuery(this).val().toLowerCase();jQuery("#domainRenewals").find("div.domain-renewal").filter(function(){jQuery(this).toggle(-1<jQuery(this).data("domain").toLowerCase().indexOf(e))})}),jQuery("#serviceRenewalFilter").on("input",function(){function i(e,n){var i=!1;return 0<a.length&&jQuery("#hideShowServiceRenewalButton").find("span.to-show").hide().end().find("span.to-hide").show().end().removeAttr("disabled"),jQuery.each(e.data(),function(e,t){if(-1<String(t).toLowerCase().indexOf(n))return!(i=!0)}),e.toggle(i),i}var a=jQuery(this).val().toLowerCase();jQuery("#serviceRenewals").find(".service-renewal").filter(function(){var e=jQuery(this),t=e.find(".addon-renewals"),n=!1;0<t.length&&t.find(".service-renewal").filter(function(){n=i(jQuery(this),a)}),n?e.toggle(!0):i(e,a),t.toggle(n)})}),jQuery(this).find("span.to-hide").hide().end().find("span.to-show").show().end().removeAttr("disabled"),hideNoneRenewableServices(),jQuery("#hideShowServiceRenewalButton").on("click",function(){(jQuery(this).find("span.to-show").is(":hidden")?(jQuery(this).find("span.to-hide").hide().end().find("span.to-show").show().end().removeAttr("disabled"),hideNoneRenewableServices):(jQuery(this).find("span.to-show").hide().end().find("span.to-hide").show().end().removeAttr("disabled"),showNoneRenewableServices))()}),(checkoutForm=jQuery("#frmCheckout")).length&&(checkoutForm.on("submit",validateCheckoutCreditCardInput),checkoutForm.on("submit.paymentjs",function(e){WHMCS.payment.event.checkoutFormSubmit({...m,event:e},WHMCS.payment.event.previouslySelected.module,jQuery(this))})),jQuery(".payment-methods:checked").trigger("ifChecked"),u.is(":visible")&&0<u.find("input.existing-card").length&&i.slideUp()});